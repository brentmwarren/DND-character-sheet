{% extends 'base.html'%}
{% load staticfiles %}

{% block head %}
  <link rel="stylesheet" href="{% static 'css/character_detail.css' %}">
  <script
    src="https://code.jquery.com/jquery-3.4.1.min.js"
    integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
    crossorigin="anonymous" defer>
  </script>
  <script defer src="{% static 'js/main.js' %}"></script>
  <title>{{ character.name }}</title>
{% endblock %}

{% block content %}
<div class="character-detail-body">
  <section class="character-detail-header">
    <div>
      <img src="{{ character.image }}" alt="{{ character.name }}" width="60px">
      <span class="character-detail-name">{{ character.name }}</span>
    </div>
    <div>
      <a href="{% url 'character_delete' pk=character.pk %}" class="delete">delete</a>
    </div>
  </section>
  <form class="character-detail-traits">
    {% csrf_token %}
    <div class="character-detail-class-race">
      <p class="label label-class-race">class:</p>
      <input
        class="text-area text-area-class-race"
        type="text"
        name="char_class"
        value="{{ character.char_class }}"
        data-server-value="{{ character.char_class }}"
      >
      <p class="label label-class-race">race:</p>
      <input
        class="text-area text-area-class-race"
        type="text"
        name="race"
        value="{{ character.race }}"
        data-server-value="{{ character.race }}"
      >
    </div>
    <div class="character-detail-align-bknd">
      <p class="label label-align-bknd">alignment:</p>
      <input
        class="text-area text-area-align-bknd"
        type="text"
        name="alignment"
        value="{{ character.alignment }}"
        data-server-value="{{ character.alignment }}"
      >
      <p class="label label-align-bknd">background:</p>
      <input
      class="text-area text-area-align-bknd"
      type="text"
      name="background"
      value="{{ character.background }}"
      data-server-value="{{ character.background }}"
      >
    </div>
    <div class="character-detail-values">
      <p class="label label-value">speed:</p>
      <input
        class="text-area text-area-value"
        type="text"
        name="speed"
        value="{{ character.speed }}"
        data-server-value="{{ character.speed }}"
      >
      <p class="label label-value">max hp:</p>
      <input
        class="text-area text-area-value"
        type="text"
        name="hit_points"
        value="{{ character.hit_points }}"
        data-server-value="{{ character.hit_points }}"
      >
      <p class="label label-value">ac:</p>
      <input
        class="text-area text-area-value"
        type="text"
        name="armor_class"
        value="{{ character.armor_class }}"
        data-server-value="{{ character.armor_class }}"
      >
      <p class="label label-value">exp:</p>
      <input
        class="text-area text-area-value"
        type="text"
        name="experience"
        value="{{ character.experience }}"
        data-server-value="{{ character.experience }}"
      >
    </div>
    <div class="character-detail-stats">
      <div class="character-detail-stat">
        <p class="label label-stat">wisdom</p>
        <input
          class="text-area text-area-stat"
          type="text"
          name="wisdom"
          value="{{ character.wisdom }}"
          data-server-value="{{ character.wisdom }}"
        >
      </div>
      <div class="character-detail-stat">
        <p class="label label-stat">strength</p>
        <input
          class="text-area text-area-stat"
          type="text"
          name="strength"
          value="{{ character.strength }}"
          data-server-value="{{ character.strength }}"
        >
      </div>
      <div class="character-detail-stat">
        <p class="label label-stat">intelligence</p>
        <input
          class="text-area text-area-stat"
          type="text"
          name="intelligence"
          value="{{ character.intelligence }}"
          data-server-value="{{ character.intelligence }}"
        >
      </div>
      <div class="character-detail-stat">
        <p class="label label-stat">charisma</p>
        <input
          class="text-area text-area-stat"
          type="text"
          name="charisma"
          value="{{ character.charisma }}"
          data-server-value="{{ character.charisma }}"
        >
      </div>
      <div class="character-detail-stat">
        <p class="label label-stat">constitution</p>
        <input
          class="text-area text-area-stat"
          type="text"
          name="constitution"
          value="{{ character.constitution }}"
          data-server-value="{{ character.constitution }}"
        >
      </div>
      <div class="character-detail-stat">
        <p class="label label-stat">dexterity</p>
        <input
          class="text-area text-area-stat"
          type="text"
          name="dexterity"
          value="{{ character.dexterity }}"
          data-server-value="{{ character.dexterity }}"
        >
      </div>
    </div>
    <div class="character-detail-notes">
      <p class="label label-notes">notes:</p>
      <input
        class="text-area text-area-notes"
        type="text"
        name="notes"
        value="{{ character.notes }}"
        data-server-value="{{ character.notes }}"
      >
    </div>
    <button
      id="save-button"
      class="btn btn-danger">
        Save
    </button>
    <span id="status" class="status">No unsaved changes.</span>
  </form>
  <div id="err-feedback"></div>
</div>
{% endblock %}
