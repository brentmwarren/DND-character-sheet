{% extends 'base.html'%}
{% load staticfiles %}

{% block head %}
  <link rel="stylesheet" href="{% static 'css/character_detail.css' %}">
  <script
    src="https://code.jquery.com/jquery-3.4.1.min.js"
    integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
    crossorigin="anonymous" defer>
  </script>
  <script defer src="{% static 'js/main.js' %}"></script>
  <title>{{ character.name }}</title>
{% endblock %}

{% block content %}
<div class="character-detail-body">
  <section class="character-detail-header">
    <div>
      <img src="{{ character.image }}" alt="{{ character.name }}" width="80px">
      <span class="character-detail-name">{{ character.name }}</span>
    </div>
    <div>
      <a href="{% url 'character_delete' pk=character.pk %}" class="delete">delete</a>
    </div>
  </section>
  <form class="character-detail-traits" autocomplete="off">
    {% csrf_token %}
    <div class="character-detail-class-race">
      <label for="char_class" class="label label-class-race">class:</label>
      <input
        class="text-area text-area-class-race"
        type="text"
        name="char_class"
        id="char_class"
        value="{{ character.char_class }}"
        data-server-value="{{ character.char_class }}"
      >
      <label for="race" class="label label-class-race">race:</label>
      <input
        class="text-area text-area-class-race"
        type="text"
        name="race"
        id="race"
        value="{{ character.race }}"
        data-server-value="{{ character.race }}"
      >
    </div>
    <div class="character-detail-align-bknd">
      <label for="alignment" class="label label-align-bknd">alignment:</label>
      <input
        class="text-area text-area-align-bknd"
        type="text"
        name="alignment"
        id="alignment"
        value="{{ character.alignment }}"
        data-server-value="{{ character.alignment }}"
      >
      <label for="background" class="label label-align-bknd">background:</label>
      <input
      class="text-area text-area-align-bknd"
      type="text"
      name="background"
      id="background"
      value="{{ character.background }}"
      data-server-value="{{ character.background }}"
      >
    </div>
    <div class="character-detail-values">
        <label for="level" class="label label-value">level:</label>
        <input
          class="text-area text-area-value"
          type="text"
          name="level"
          id="level"
          value="{{ character.level }}"
          data-server-value="{{ character.level }}"
        >
      <label for="speed" class="label label-value">speed:</label>
      <input
        class="text-area text-area-value"
        type="text"
        name="speed"
        id="speed"
        value="{{ character.speed }}"
        data-server-value="{{ character.speed }}"
      >
      <label for="hit_points" class="label label-value">max hp:</label>
      <input
        class="text-area text-area-value"
        type="text"
        name="hit_points"
        id="hit_points"
        value="{{ character.hit_points }}"
        data-server-value="{{ character.hit_points }}"
      >
      <label for="armor_class" class="label label-value">ac:</label>
      <input
        class="text-area text-area-value"
        type="text"
        name="armor_class"
        id="armor_class"
        value="{{ character.armor_class }}"
        data-server-value="{{ character.armor_class }}"
      >
      <label for="experience" class="label label-value">exp:</label>
      <input
        class="text-area text-area-value"
        type="text"
        name="experience"
        id="experience"
        value="{{ character.experience }}"
        data-server-value="{{ character.experience }}"
      >
    </div>
    <div class="character-detail-stats">
      <div class="character-detail-stat">
        <label for="wisdom" class="label label-stat">wisdom</label>
        <input
          class="text-area text-area-stat"
          type="text"
          name="wisdom"
          id="wisdom"
          value="{{ character.wisdom }}"
          data-server-value="{{ character.wisdom }}"
        >
        <span class="modifier">+0</span>
      </div>
      <div class="character-detail-stat">
        <label for="strength" class="label label-stat">strength</label>
        <input
          class="text-area text-area-stat"
          type="text"
          name="strength"
          id="strength"
          value="{{ character.strength }}"
          data-server-value="{{ character.strength }}"
        >
        <span class="modifier">+0</span>
      </div>
      <div class="character-detail-stat">
        <label for="intelligence" class="label label-stat">intelligence</label>
        <input
          class="text-area text-area-stat"
          type="text"
          name="intelligence"
          id="intelligence"
          value="{{ character.intelligence }}"
          data-server-value="{{ character.intelligence }}"
        >
        <span class="modifier">+0</span>
      </div>
      <div class="character-detail-stat">
        <label for="charisma" class="label label-stat">charisma</label>
        <input
          class="text-area text-area-stat"
          type="text"
          name="charisma"
          id="charisma"
          value="{{ character.charisma }}"
          data-server-value="{{ character.charisma }}"
        >
        <span class="modifier">+0</span>
      </div>
      <div class="character-detail-stat">
        <label for="constitution" class="label label-stat">constitution</label>
        <input
          class="text-area text-area-stat"
          type="text"
          name="constitution"
          id="constitution"
          value="{{ character.constitution }}"
          data-server-value="{{ character.constitution }}"
        >
        <span class="modifier">+0</span>
      </div>
      <div class="character-detail-stat">
        <label for="dexterity" class="label label-stat">dexterity</label>
        <input
          class="text-area text-area-stat"
          type="text"
          name="dexterity"
          id="dexterity"
          value="{{ character.dexterity }}"
          data-server-value="{{ character.dexterity }}"
        >
        <span class="modifier">+0</span>
      </div>
    </div>
    <div class="character-detail-notes">
      <label for="notes" class="label label-notes">notes:</label>
      <textarea
        class="text-area text-area-notes"
        type="text"
        name="notes"
        id="notes"
        data-server-value="{{ character.notes }}"
      >{{ character.notes }}</textarea>
    </div>
    <div class="character-detail-skills-saving">
      <label for="skills" class="label label-skills-saving">skills:</label>
      <textarea
        class="text-area text-area-skills"
        type="text"
        name="skill_proficiencies"
        id="skills"
        data-server-value="{{ character.skill_proficiencies }}"
      >{{ character.skill_proficiencies }}</textarea>
      <label for="saving_throws" class="label label-skills-saving">saving throws:</label>
      <textarea
        class="text-area text-area-saving_throws"
        type="text"
        name="saving_throws"
        id="saving_throws"
        data-server-value="{{ character.saving_throws }}"
      >{{ character.saving_throws }}</textarea>
      <label for="proficiency_bonus" class="label label-skills-saving">prof bonus:</label>
      <input
          class="text-area text-area-stat"
          type="text"
          name="proficiency_bonus"
          id="proficiency_bonus"
          value="{{ character.proficiency_bonus }}"
          data-server-value="{{ character.proficiency_bonus }}"
        >
    </div>
    <button
      id="save-button"
      class="btn btn-danger">
        Save
    </button>
    <span id="status" class="status">No unsaved changes.</span>
  </form>
  <div id="err-feedback"></div>
{% endblock %}
